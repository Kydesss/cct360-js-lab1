<html>
    <head> </head>
    <body>
        <div id="weather-output"></div>
        <script>
            window.onload = function () {
                const apiKey = "58a18501e2a72e97ae941b615ae71216";
                const lat = 43.5789;
                const lon = -79.6583;
                const apiUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${apiKey}`;

                const outputElement = document.getElementById("weather-output");

                fetch(apiUrl)
                    .then((response) => {
                        if (!response.ok) {
                            throw new Error("Network response was not ok");
                        }
                        return response.json();
                    })
                    .then((data) => {
                        const temperature = data.main.temp - 273.15; // Convert from Kelvin to Celsius
                        const description = data.weather[0].description;
                        const location = data.name;
                        outputElement.innerHTML = `<p>Temperature in ${location}: ${temperature.toFixed(
                            2
                        )}Â°C</p>
                                    <p>Weather: ${description}</p>`;
                    })
                    .catch((error) => {
                        console.error("Error:", error);
                    });
            };
        </script>
    </body>
</html>
